<div dir="rtl">

 
# SubNG 🐙

حاصل همکاری telethon و fastapi 

کلیت کار اینه که این ربات جذاب با استفاده از regex میاد و کانفیگ های v2ray که که خیلیامون ازش استفاده میکنیم رو
از کانال ها و گروه هایی که خودمون واسش تعریف میکنینم استخراج میکنه و به کمک fastapi یک اون ها رو تو قالب یک subscription ارائه میده 😉.

<br>

# 🚀 چند ویژگی باحال
🧊 هم telethon و هم fastapi ساختار Async دارن برنامه بهینه هستش و چند نفر هم میتونن هم زمان ازش استفاده کنن .

🧊 دقت کنید برنامه کانفیگ های استخراج شده رو به میتونه به عنوان sub بهترن بده هم میتونه ایدی بگیره ازتون تو قالب فایل متنی واسش تو تلگرام ارسال کنه .


🧊 برنامه کانفیگ های استخراج شده رو خودکار تغییر نام میده و نشانی از کانال مبدا یا ... نمیمونه 


🧊 شما میتونید با deploy کردن برنامه روی یک سرور خارجی که در ایران تحریم نیست یه جورایی بدون vpn فیترینگ تلگرام رو دور بزنید
و کانفیگ هاتون رو بدون هیچ تحریمی دریافت کنید . 
<br>
<br>

# ⭕ نکات

1 - دقت کنید وجه تمایز این ربات با لینک های sub اینه که همیشه به روزه و بار هر بار درخواست بهش شما کانفیگ های به روز دریافت میکنید . 

2- این ربات یک ابزاری گرفتن کانفیگه کیفیت کانفیگ هایی که شما دریافت میکنید بستگی به کانال و گروه هایی داره شما براش تعریف میکنید . 

3 - داخل برنامه AuthKey تعریف شده که خودتون توی .env -  سکرت تعریف میکنید,  خیالتون راحت باشه تا کسی به اون AuthKey دسترسی نداشته باشه
نمیتونه از لینک شما کانفیگ بگیره و اکانتتون رو درگیر کنه .
<br>
<br>

# 🛡 نکات امنیتی قبل از راه انداری 

1- برای راه انداری شما نیاز به یک Session دارید که در ادامه توضیح میدم چطوری بگیرید دقت داشته باشید اون Session مستقیم از تلگرام شماست به هیچ عنوان به اشتراک نزاریدش
و هر جایی که برنامه رو deploy میکنید فقط و فقط اونو داخل فایل .env به صورت secret قرار بدید .
<br>
<br>
2 - شما باید داخل برنامه AuthKey تعریف کنید داخل فایل .env سکرت AuthKey رو به هیچ عنوان به اشتراک نزارید چون افراد میتونن از اکانت شما رو درگیر کننو و مدام کانفیگ بگیرن .
<br>
<br>
3 - در اخر هم برنامه اطلاعات مورد نیاز شما رو که محرمانه هستند از فایل .env میخونه و شما باید دقت کنید اون اطلاعات رو در فایل  .env سکرت تعریف کنید . 
<br>
<br>


# 🔅 راه اندازی
⚫ دقت کنید ما با [huggingface](https://huggingface.co/) میریم جلو .

1 پروژه رو clone یا دانلود کنید
```bash
git clone https://github.com/Soli1212/Subscription-Next-Generation.git
```
<br>
<br>

2 - دریافت api-id و api-hash اکانت تلگرامتون 

 - شما باید api-id و api-hash رو از [اینجا](https://my.telegram.org) دریافت کنید . دقت کنید فرایند دریافتش هم به صورت فارسی و انگلیسی داخل یوتیوب موجوده .

<br>
<br>

3 - دریافت Session 

 - برای دریافت Session اگر میخواید از فایل .exe استفاده کنید باید یک vpn خوب استفاده کنید که کل سیستم رو تونل کنه و بعد میتونید Session بگیرید .

<br>


  🔴 اگر vpn ندارید یا به هر دلیلی نمیتونید از exe  استفاده کنید سراغ فایل سورس میریم و اون رو در [google colab](https://colab.research.google.com) اجرا میکنید و session خودتون رو دریافت میکنید

⚫ دقت کنید قبل از اجرای فایل SessionMaker.py کتابخانه  های زیر رو نصب کنید : 

```bash
pip install Telethon==1.35.0
```
```bash
pip install colorama==0.4.6
```
```bash
pip install pyperclip==1.9.0
```

🔴 در نهایت بعد از دریافت Session اون رو یه جا نگه دارید جلوتر کارش داریم .

<br>
<br>
4 - اماده کردن سورس اصلی main.py

<br>
تو این قسمت میخوایم کانال ها یا گروه های تلگرامی هدف رو داخل کد تعریف کنیم
<br>
<br>
⚫ فایل main.py رو داخل یک code editor باز کنید هیچ فرقی نداره با چی بازش کنید صرفا یک تکست ادیتور هم  باشه کافیه .
<br>
<br>
⚫داخل فایل با متغیر conf کار داریم فقط که یک dict هست و به سراغ Channels میریم و طبق مثال ها منابع خودمون رو تعریف میکنیم .
<br>
<br>
🔴 در نهایت بعد از ذخیره تغییرات فایل رو ببندید و اماده Deploy بشید .
<br>
<br>
5 - Deploying ...
 
- 
  یک اکانت داخل [huggingface](https://huggingface.co/) بسازید با [temp mail](https://temp-mail.org/en/) هم میتونید .
- بعد از ساخت اکانت به [اینجا](https://huggingface.co/spaces) برید و یک space جدید ایجاد کنید .

-    فیلد new space name دلخواه هست .

-    فیلد Short description  هم به همین 
    
-    فیلد License رو هم خالی بزارید .


-    در قسمت Select the Space SDK : 

       - حتما Docker رو انتخاب کنید .
       - در قسمت Choose a Docker template هم روی Blank بزارید 

🔴 و در نهایت Create Space رو بزنید تا space ساخته بشه .
<br>
<br>
<br>
⚫الان میخوایم مقدایر رو به صورت secret که بالاتر توضیح دادم تعریف کنیم .


- خوبه. بعد از ساخت space به قسمت settings برید

    - به قسمت Variables and secrets برید .
    - هر بار برای تعریف مقدار جدید باید روی New Secret بزنید
    - برای مقدار اول name رو Session بزارید و value رو اون همون سشنی که بالاتر گرفتیم .
    - برای مقدار دوم name رو ApiID بزارید و ApiID و api - id که گرفتید از تلگرام رو به عنوان value قرار بدید .
    - برای مقدار سوم name رو ApiHash بزارید و api - hash رو قرار بدید
    - و برای مقدار اخر name رو AuthKey قرار بدید و یک رمز دلخواه بزارید و حتما یادتون بمونه چی گذاشتید .

- حالا بعد تعریف مقادیر میتونید به قسمت Files برید .
    
    - روی Add Files و سپسUpload files کلیک کنید .
    - تمام محتویات پوشه SubNG رو انتاب و آپلود کنید .
    - و روی Commit  changes to main بزنید .
- بعد از انجام این فرایند ها 2 الی 3 دقیقه بعد برنامه به صورت خودکار run میشه  .
<br>
<br>


# استفاده ⚡
بعد از استقرار برنامه روی [huggingface](https://huggingface.co/)
میریم تا نحوه استفاده بررسی کنیم .

- به فضای space که ساختید برید .
- روی سه نقطه همبرگری بزنید و سپس روی Embed this Space بزنید .
-  با قسمت Direct URL کار داریم Url خودتون رو کپی کنید .

🔴 برنامه قبل از هر اقدامی AuthKey که تعریف کرده بودید رو ازتون میخوام و تا AuthKey صحیح بهش داده نشه هیچ کاری نمیکنه .

برای دریافت کانفیگ به صورت ساب URL ما به این صورت میشه :
```bash
https://example.hf.space?key=YOUR_AUTHKEY
```
ما یک limit هم در برنامه قرار دادیم که دیفالت 15 هست یعنی وارد هر کانال یا گروهی میشه 15 تا پیام اخر رو برای استخراج کانفیگ میگرده و شما میتونید اون تا 200 بالا ببرید برای تغییر اندازه اون هم URL ما به این صورت میشه : 
```bash
https://example.hf.space?key=YOUR_AUTHKEY&limit=100
```
به این صورت میتونید مقدار کانفیگ دریافتی خودتون رو هم کنترل کنید  .


 ⚫ واما گفتیم برنامه میتونه کانفیگ ها رو به صورت فایل متنی برای هر کسی ارسال کنه داخل تلگرام برای این کار کافیه بعد از کلمه space در URL عبارت /send رو بهش اضافه کنید و پارامتر User رو هم بهش بدید به این صورت : 
 ```bash
https://example.hf.space/send?key=YOUR_AUTHKEY&User=TEL_USER_ID
```
در واقع User ایدی تلگرام همون فردی هست که میخواید واسش تو تلگرام کانفیگ ها رو ارسال کنید اگر هم مقدار User رو me قرار بدید کانفیگ ها به Saved Message تلگرام خودتون فرستاده میشه .

🔴 دقت کنید پارامتر limit اختیاری هست و میتونید تعریفش نکنید .


✔ خب الان میتونید لینک ساب خودتون رو داخل هر v2rayNG یا هر client دیگه ای که مدنظرتونه استفاده کنید .

#
👩‍💻 developer : [soheil ramezanifard](https://github.com/Soli1212)

📧 email : soheilworkmail.12@gmail.com

🔗 telegram : [@Bigx4](https://t.me/Bigx4)

#
شاد باشید 😉
